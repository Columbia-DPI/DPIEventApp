(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{208:function(e,t,n){e.exports=n(356)},213:function(e,t,n){},215:function(e,t,n){},355:function(e,t,n){e.exports=n.p+"media/profile.446cc987.png"},356:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(40),l=n.n(i),s=(n(213),n(43)),o=n.n(s),c=n(72),u=n(196),p=(n(215),n(32)),m=n(21),h=n(365),d=n(9),f=n(10),v=n(25),g=n(12),b=n(11),E=n(15),y=n(117),k=n.n(y),j=(n(228),n(229),n(48),n(13));function O(){var e=Object(E.a)(["\n  max-width: 100%;\n  max-height: 100%;\n  position: absolute;\n"]);return O=function(){return e},e}var x=j.a.img(O()),C=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.info,t=e.title,n=e.type,a=e.img,i=e.timestamp,l=e.organizer;return r.a.createElement("div",{class:"item cultural col-sm-6 col-md-4 col-lg-4 mb-4"},r.a.createElement("a",{class:"item-wrap"},r.a.createElement("div",{class:"event-info"},r.a.createElement("h3",null,t),r.a.createElement("span",null,n," ",r.a.createElement("br",null)," ",l," ",r.a.createElement("br",null)," ",i," ",r.a.createElement("br",null))),r.a.createElement(x,{src:a})))}}]),n}(a.Component),S=n(177),w=Object(a.createContext)(),D=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={auth0Client:null,isLoading:!0,isAuthenticated:!1,user:null},e.config={domain:"dpi-event-app.auth0.com",client_id:"hra691BrDTRXWILQMSnpHJKcgFTsZRwc",redirect_uri:window.location.origin},e.handleRedirectCallback=Object(c.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,e.state.auth0Client.handleRedirectCallback();case 3:return t.next=5,e.state.auth0Client.getUser();case 5:n=t.sent,e.setState({user:n,isAuthenticated:!0,isLoading:!1}),window.history.replaceState({},document.title,window.location.pathname);case 8:case"end":return t.stop()}}),t)}))),e.initializeAuth0=Object(c.a)(o.a.mark((function t(){var n,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.a)(e.config);case 2:if(n=t.sent,e.setState({auth0Client:n}),!window.location.search.includes("code=")){t.next=6;break}return t.abrupt("return",e.handleRedirectCallback());case 6:return t.next=8,n.isAuthenticated();case 8:if(!(a=t.sent)){t.next=15;break}return t.next=12,n.getUser();case 12:t.t0=t.sent,t.next=16;break;case 15:t.t0=null;case 16:r=t.t0,e.setState({isLoading:!1,isAuthenticated:a,user:r});case 18:case"end":return t.stop()}}),t)}))),e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.initializeAuth0()}},{key:"render",value:function(){var e=this.state,t=e.auth0Client,n=e.isLoading,a=e.isAuthenticated,i=e.user,l=this.props.children,s={isLoading:n,isAuthenticated:a,user:i,loginWithRedirect:function(){return t.loginWithRedirect.apply(t,arguments)},getTokenSilently:function(){return t.getTokenSilently.apply(t,arguments)},getIdTokenClaims:function(){return t.getIdTokenClaims.apply(t,arguments)},logout:function(){return t.logout.apply(t,arguments)}};return r.a.createElement(w.Provider,{value:s},l)}}]),n}(a.Component),L=n(368);function _(){var e=Object(E.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]);return _=function(){return e},e}j.a.div(_());var A=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(f.a)(n,[{key:"render",value:function(){var e=this;this.context.logout;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("header",{style:{alignContent:"center"}},"CUBrite")),r.a.createElement("div",{style:{marginLeft:"67%"}},r.a.createElement(p.b,{to:"/profile"},r.a.createElement(L.a,null,"My profile")),r.a.createElement(p.b,{to:"/createEvent"},r.a.createElement(L.a,null,"Create event")),r.a.createElement(L.a,{onClick:function(){return e.context.logout({returnTo:window.location.origin})}},"Log out")))}}]),n}(a.Component);A.contextType=w;var T=A,I=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={selected:!1,selectedStyle:"Column_left",textedStyle:"Column_right"},a.handleClick=a.handleClick.bind(Object(v.a)(a)),a}return Object(f.a)(n,[{key:"handleClick",value:function(){this.setState((function(e){return{selected:!e.selected}})),this.state.selected?this.setState((function(e){return{selectedStyle:"Column_left_large",textedStyle:"Column_right_large"}})):this.setState((function(e){return{selectedStyle:"Column_left",textedStyle:"Column_right"}}))}},{key:"render",value:function(){var e=this.props.info.title,t=this.props.info.type,n=this.props.info.img,a=this.props.info.description;return r.a.createElement("div",{class:"Row_cell",onClick:this.handleClick},r.a.createElement("div",{class:this.state.selectedStyle},r.a.createElement("img",{class:"img-cell",src:n,style:{height:"10rem",width:"100%"}})),r.a.createElement("div",{class:this.state.textedStyle},r.a.createElement("h4",{style:{margin:"auto"}},e),r.a.createElement("p",{style:{margin:"auto"}},t),r.a.createElement("span",null,a)))}}]),n}(a.Component);a.Component;function N(){var e=Object(E.a)(["\n    position: absolute;\n    bottom: 40px;\n    left: 40px;\n"]);return N=function(){return e},e}function F(){var e=Object(E.a)([" \n    padding-top: 30px;  \n    padding-left: 30px;\n    text-align: center;\n"]);return F=function(){return e},e}function B(){var e=Object(E.a)(["\n    width: 100%;\n    height: 100%;\n"]);return B=function(){return e},e}function G(){var e=Object(E.a)(["\n    width: 60%;\n    height: 100%;\n"]);return G=function(){return e},e}function J(){var e=Object(E.a)(["\n    text-align: left;\n    padding-top: 30px;\n"]);return J=function(){return e},e}function P(){var e=Object(E.a)(["\n    width: 100%;\n    height: 60%;\n    display: flex;\n    flex-direction: row;\n"]);return P=function(){return e},e}function z(){var e=Object(E.a)(["\n    height: 100%;\n    width: 100%;\n    padding: 20px;\n"]);return z=function(){return e},e}var M=j.a.div(z()),R=j.a.div(P()),U=j.a.div(J()),V=j.a.div(G()),W=j.a.img(B()),q=j.a.div(F()),H=j.a.div(N()),K=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={interested:!1},a.postEventInterest=a.postEventInterest.bind(Object(v.a)(a)),a.toggleInterested=a.toggleInterested.bind(Object(v.a)(a)),a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.doILike()}},{key:"doILike",value:function(){var e=this;fetch("./api/doILike",{method:"post",body:JSON.stringify({email:this.props.email,eid:this.props.event.eid})}).then((function(e){return e.json()})).then((function(t){e.setState({interested:!!t&&t.doILike})}))}},{key:"toggleInterested",value:function(){this.postEventInterest(!this.state.interested),this.setState({interested:!this.state.interested})}},{key:"postEventInterest",value:function(e){var t={eid:this.props.event.eid,email:this.props.email,interested:e};fetch("./api/postEventInterest",{method:"post",body:JSON.stringify(t)})}},{key:"render",value:function(){return r.a.createElement(M,null,r.a.createElement(R,null,r.a.createElement(V,null,r.a.createElement(W,{src:this.props.event.link})),r.a.createElement(q,null,r.a.createElement("h1",null,this.props.event.title),r.a.createElement("h3",null,"Organizer "),r.a.createElement("p",null,this.props.event.organizer),r.a.createElement("h3",null,"Tags"),r.a.createElement("p",null,this.props.event.tags.join(", ")),r.a.createElement("h3",null,"Time "),r.a.createElement("p",null,this.props.event.timestamp),r.a.createElement("h3",null,"Location"),r.a.createElement("p",null,this.props.event.location))),r.a.createElement(U,null,r.a.createElement("h3",null,"Description"),r.a.createElement("p",null,this.props.event.description),r.a.createElement(L.a,{onClick:this.toggleInterested},this.state.interested?"Unlike":"Like"),r.a.createElement(H,null,r.a.createElement("p",null,r.a.createElement("b",null,"Event link: "),this.props.event.link))))}}]),n}(a.Component),Y=n(183);function Q(){var e=Object(E.a)(["\n  width: 100%;\n  padding: 0 8rem;\n  margin-top: 3rem;\n"]);return Q=function(){return e},e}function X(){var e=Object(E.a)(["\n  height: 60rem;\n  width: 800px;\n  padding: 10px;\n"]);return X=function(){return e},e}function Z(){var e=Object(E.a)(["\n  height: 100%;\n  width: 100%;\n  border: solid black 0.2rem;\n  display: block;\n"]);return Z=function(){return e},e}var $=j.a.div(Z()),ee=j.a.div(X()),te={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},ne=j.a.div(Q()),ae=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={serverData:null,events:[],event_carousel_num:12,popup_index:-1,open:!1},a.fetchAllEvents=a.fetchAllEvents.bind(Object(v.a)(a)),a.eventList=a.eventList.bind(Object(v.a)(a)),a.togglePopup=a.togglePopup.bind(Object(v.a)(a)),a.onClosePopup=a.onClosePopup.bind(Object(v.a)(a)),a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.fetchAllEvents()}},{key:"componentDidUpdate",value:function(){console.log(this.state.popup_index)}},{key:"togglePopup",value:function(e){this.setState({popup_index:e,open:!0})}},{key:"fetchAllEvents",value:function(){var e=this;fetch("./api/getAllEvents",{method:"post",body:JSON.stringify({placeholder:"nothing rn"})}).then((function(e){return e.json()})).then((function(t){e.setState({events:t.response,event_carousel_num:t.response.length<12?t.response.length:12})}))}},{key:"eventList",value:function(e){return"all"==e?this.state.events.map((function(e,t){return r.a.createElement(I,{info:{title:e.title,type:"Academic",img:e.link,description:e.description,timestamp:e.timestamp}})})):this.state.events.map((function(e,t){return r.a.createElement(C,{info:{title:e.title,type:"Academic",img:e.link,description:e.description,timestamp:e.timestamp}})}))}},{key:"onClosePopup",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement(ne,null,r.a.createElement(k.a,{responsive:te,autoPlay:"mobile"!==this.props.deviceType,autoPlaySpeed:3e3,infiniteLoop:!0,keyBoardControl:!0,removeArrowOnDeviceType:["tablet","mobile"],deviceType:this.props.deviceType,itemClass:"carousel-item-padding-40-px"},this.state.events.map((function(t,n){var a=t.tags.slice(0,3).join(", ");return r.a.createElement($,{onClick:function(){return e.togglePopup(n)}},r.a.createElement(C,{info:{title:t.title,type:a,img:t.link,description:t.description,timestamp:t.timestamp,organizer:t.organizer}}))})))),this.state.events.map((function(t,n){if(n===e.state.popup_index)return r.a.createElement(Y.Modal,{open:e.state.open,onClose:e.onClosePopup},r.a.createElement(ee,null,r.a.createElement(K,{index:n,event:t,email:e.props.email})))})))}}]),n}(a.Component),re=n(45),ie=n(366),le=n(364);n(62);function se(){var e=Object(E.a)(["\n  margin-bottom: 50px;\n"]);return se=function(){return e},e}var oe=j.a.h1(se()),ce=[{key:"m",text:"Male",value:"male"},{key:"f",text:"Female",value:"female"},{key:"o",text:"Other",value:"other"}],ue=[{key:"F",text:"Freshman",value:"freshman"},{key:"S",text:"Sophomore",value:"sophomore"},{key:"J",text:"Junior",value:"junior"},{key:"S",text:"Senior",value:"senior"},{key:"G",text:"Graduate",value:"graduate"}],pe=[{key:"s",text:"SEAS",value:"seas"},{key:"c",text:"CC",value:"cc"},{key:"g",text:"GS",value:"gs"},{key:"b",text:"Barnard",value:"barnard"}],me=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).saveAndContinue=function(t){t.preventDefault(),e.props.nextStep()},e.back=function(t){t.preventDefault(),e.props.prevStep()},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.values;return r.a.createElement("div",null,r.a.createElement(ie.a,null,r.a.createElement(oe,{className:"ui centered"},"Welcome to CUBrite"),r.a.createElement(ie.a.Group,{widths:"equal",class:"inline fields"},r.a.createElement(ie.a.Field,null,r.a.createElement("label",null,"First Name"),r.a.createElement("input",{placeholder:"First Name",onChange:this.props.handleChange("firstName"),defaultValue:e.firstName})),r.a.createElement(ie.a.Field,null,r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{placeholder:"Last Name",onChange:this.props.handleChange("lastName"),defaultValue:e.lastName})),r.a.createElement(ie.a.Field,null,r.a.createElement("label",null,"UNI"),r.a.createElement("input",{placeholder:"UNI",onChange:this.props.handleChange("uni"),defaultValue:e.uni}))),r.a.createElement(ie.a.Group,{widths:"equal",class:"inline fields"},r.a.createElement(ie.a.Field,{control:le.a,label:"Gender",options:ce,placeholder:"Gender",defaultValue:e.gender,onChange:this.props.handleDropdown("gender")}),r.a.createElement(ie.a.Field,{control:le.a,label:"Year",options:ue,placeholder:"Year",defaultValue:e.schoolyear,onChange:this.props.handleDropdown("schoolyear")}),r.a.createElement(ie.a.Field,{control:le.a,label:"School",options:pe,placeholder:e.school,onChange:this.props.handleDropdown("school")})),r.a.createElement(L.a,{size:"small",onClick:this.saveAndContinue},"Save and Continue")))}}]),n}(a.Component);function he(){var e=Object(E.a)(["\n  margin-bottom: 50px;\n"]);return he=function(){return e},e}function de(){var e=Object(E.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n"]);return de=function(){return e},e}j.a.div(de());var fe=j.a.h1(he()),ve=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).saveAndContinue=function(t){t.preventDefault(),e.props.nextStep()},e.back=function(t){t.preventDefault(),e.props.prevStep()},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this;this.props.values;console.log(this.props);var t=this.props.values.tags.map((function(t,n){return r.a.createElement("div",{class:"ui toggle checkbox",style:{height:"50px"}},r.a.createElement("input",{type:"checkbox",name:t,onChange:e.props.handleChange("interests")}),r.a.createElement("label",null,t))}));return r.a.createElement("div",null,r.a.createElement("h1",null),r.a.createElement(fe,{className:"ui centered"},"I am interested in ... "),t,r.a.createElement(ie.a,{color:"blue"},r.a.createElement(ie.a.Group,null,r.a.createElement(L.a,{onClick:this.back},"Back"),r.a.createElement(L.a,{onClick:this.saveAndContinue},"Save And Continue "))))}}]),n}(a.Component),ge=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"ui centered"},"Success! :)"),r.a.createElement(p.b,{to:"/home"},r.a.createElement(L.a,{size:"small",class:"ui button"},"Go check it out")))}}]),n}(a.Component);function be(){var e=Object(E.a)(["\n    height: 60rem;\n    width: 100%;\n    padding: 0 10rem;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n"]);return be=function(){return e},e}var Ee=j.a.div(be()),ye=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).nextStep=function(){var e=a.state.step;a.setState({step:e+1})},a.prevStep=function(){var e=a.state.step;a.setState({step:e-1})},a.handleChange=function(e){return function(t){if("interests"==e){var n=a.state.interests;n[t.target.name]="",a.setState(Object(re.a)({},e,n))}else a.setState(Object(re.a)({},e,t.target.value))}},a.handleDropdown=function(e){return function(t){console.log(t.target),a.setState(Object(re.a)({},e,t.target.querySelector("span").innerHTML))}},a.state={step:1,firstName:"",lastName:"",uni:"",schoolyear:"Year",school:"School",gender:"Gender",interests:{},tags:["free food","tech","professional","academic","art","study break","social event","sports","party","social","online","stupid","resume drop","finance","concert","choir","varsity","useless","club meeting","panel","challenge"],tag_dict:null,final_tags:null},a.getInterests=a.getInterests.bind(Object(v.a)(a)),a.getTags=a.getTags.bind(Object(v.a)(a)),a}return Object(f.a)(n,[{key:"sendData",value:function(){var e={firstName:this.state.firstName,lastName:this.state.lastName,uni:this.state.uni,school:this.state.school,schoolYear:this.state.schoolyear,gender:this.state.gender,interests:this.state.final_tags,email:this.props.email},t=fetch("./api/storeUserData",{method:"post",body:JSON.stringify(e)}),n=t.then((function(e){return e.json()}));return Promise.all([t,n]).then((function(e){return{json:JSON.stringify(e),data:e.response}}))}},{key:"getInterests",value:function(){var e=this;fetch("./api/getInterestTags",{method:"post",body:JSON.stringify({Dummy:null})}).then((function(e){return e.json()})).then((function(t){e.setState({tag_dict:t}),e.setState({tags:Object.keys(e.state.tag_dict)})}))}},{key:"getTags",value:function(){for(var e=[],t=Object.keys(this.state.interests),n=0;n<t.length;n++)e.push(this.state.tag_dict[t[n]]);console.log(e),this.setState({final_tags:e})}},{key:"componentDidMount",value:function(){this.getInterests()}},{key:"render",value:function(){console.log(this.state.tag_dict);var e=this.state.step;console.log(this.state.tags);var t=this.state,n={firstName:t.firstName,lastName:t.lastName,uni:t.uni,schoolyear:t.schoolyear,school:t.school,gender:t.gender,interest:t.interest,tags:t.tags};switch(e){case 1:return r.a.createElement(Ee,null,r.a.createElement(me,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChange,handleDropdown:this.handleDropdown,values:n}));case 2:return r.a.createElement(Ee,null,r.a.createElement(ve,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChange,handleDropdown:this.handleDropdown,values:n}));case 3:return null===this.state.final_tags&&this.getTags(),this.sendData(),r.a.createElement(Ee,null,r.a.createElement(ge,null))}}}]),n}(a.Component),ke=n(194),je=n.n(ke),Oe=n(97),xe=n(195),Ce=n(369);function Se(){var e=Object(E.a)(["\n  position: absolute;\n  top: 50px;\n  left: 50px;\n"]);return Se=function(){return e},e}var we=Object(j.a)(p.b)(Se()),De=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={eventList:e.eventList(),allTags:e.allTags()},e}return Object(f.a)(a,[{key:"eventList",value:function(){return Array(6).fill().map((function(e,t){return r.a.createElement(I,{info:{title:"DPI Info session",type:"Academic",img:"img_"+(t+1),description:"This event has free food and guest speakers!"}})}))}},{key:"allTags",value:function(){var e=["orange","yellow","olive","green","teal","blue","violet","purple"],t=["Pre-professional","Party","Social","Cultural","Recruiting","Computer Science","Free Food","On Campus"],n=0,a=Array(8);for(n=0;n<8;n++)a[n]=r.a.createElement(Oe.a,{color:e[n],key:t[n],style:{marginTop:"5px",marginBottom:"5px"}},je.a.capitalize(t[n]));return a}},{key:"render",value:function(){var e=this.eventList(),t=this.allTags();return r.a.createElement("div",null,r.a.createElement(we,{to:"/home"},r.a.createElement(L.a,null,"Home")),r.a.createElement(xe.a,{circular:!0,src:n(355),style:{height:"auto",width:"25%",marginLeft:"auto",marginRight:"auto"}}),r.a.createElement("div",null,r.a.createElement(Ce.a,{as:"h2",content:"Username",style:{marginTop:"10px",marginBottom:"20px"}},"Username"),r.a.createElement(Ce.a,{as:"h3",content:"SEAS 2022",style:{marginTop:"15px"}}),r.a.createElement("div",null,r.a.createElement("h3",{style:{textAlign:"left",marginLeft:"20%",marginBottom:"20px"}},"I am interested in...")),r.a.createElement("div",{style:{marginLeft:"20%",marginRight:"20%",marginBottom:"35px"}},t)),r.a.createElement("div",null,r.a.createElement("h3",{style:{textAlign:"left",marginLeft:"20%",marginBottom:"20px"}},"Events hosted by me:")),r.a.createElement("div",{style:{width:"80%",marginLeft:"auto",marginRight:"auto"}},e))}}]),a}(a.Component);function Le(){var e=Object(E.a)(["\n    height: 60rem;\n    width: 100%;\n    padding: 0 10rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]);return Le=function(){return e},e}function _e(){var e=Object(E.a)(["\n  margin-bottom: 30px;\n"]);return _e=function(){return e},e}var Ae=j.a.h1(_e()),Te=j.a.div(Le()),Ie=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return this.props.isLoading?r.a.createElement(Te,null,r.a.createElement(Ae,null,"Loading ...")):r.a.createElement(Te,null,r.a.createElement(Ae,null,"A campus event aggregation platform, ",r.a.createElement("br",null)," customized for you."),r.a.createElement(L.a,{onClick:this.props.login},"Join now"))}}]),n}(r.a.Component),Ne=n(129),Fe=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={serverData:null,eventList:[],tags:[]},e.removeTag=function(t){var n=Object(Ne.a)(e.state.tags);n.splice(t,1),e.setState({tags:n},(function(){e.getEvents()}))},e.inputKeyDown=function(t){var n=t.target.value;if("Enter"===t.key&&n){if(e.state.tags.find((function(e){return e.toLowerCase()===n.toLowerCase()})))return;e.setState({tags:[].concat(Object(Ne.a)(e.state.tags),[n])},(function(){e.getEvents()})),e.tagInput.value=null}else"Backspace"!==t.key||n||e.removeTag(e.state.tags.length-1)},e}return Object(f.a)(n,[{key:"getEvents",value:function(){var e=this,t={tags:this.state.tags};fetch("./api/searchEvents",{method:"post",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.setState({eventList:t.response})}))}},{key:"eventList",value:function(){return this.state.eventList.map((function(e,t){return r.a.createElement(I,{info:{title:e.title,type:"Academic",img:"img_"+(t+1),description:"This event has free food and guest speakers!"}})}))}},{key:"componentDidMount",value:function(){this.getEvents()}},{key:"render",value:function(){var e=this,t=(this.state.eventList,this.state.tags||[]);return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("div",{className:"input-tag"},r.a.createElement("ul",{className:"input-tag__tags"},t.map((function(t,n){return r.a.createElement("li",{key:t},t,r.a.createElement("button",{type:"button",onClick:function(){e.removeTag(n)}},"+"))})),r.a.createElement("li",{className:"input-tag__tags__input"},r.a.createElement("input",{type:"text",onKeyDown:this.inputKeyDown,ref:function(t){e.tagInput=t}})))),r.a.createElement("div",null,this.state.eventList.map((function(e,t){return r.a.createElement(I,{info:{title:e.title,type:e.tags.join(", "),img:e.link,description:e.description}})}))))}}]),n}(a.Component);function Be(){var e=Object(E.a)(["\n  margin-bottom: 50px;\n"]);return Be=function(){return e},e}var Ge=j.a.h1(Be()),Je=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).saveAndContinue=function(t){t.preventDefault(),e.props.nextStep()},e.back=function(t){t.preventDefault(),e.props.prevStep()},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.values;return r.a.createElement("div",null,r.a.createElement(ie.a,null,r.a.createElement(Ge,{className:"ui centered"},"Welcome to CUBrite"),r.a.createElement(ie.a.Group,{widths:"equal",class:"inline fields"},r.a.createElement(ie.a.Field,null,r.a.createElement("label",null,"Title"),r.a.createElement("input",{placeholder:"Title",onChange:this.props.handleChange("title"),defaultValue:e.title})),r.a.createElement(ie.a.Field,null,r.a.createElement("label",null,"Location"),r.a.createElement("input",{placeholder:"Location",onChange:this.props.handleChange("location"),defaultValue:e.location})),r.a.createElement(ie.a.Field,null,r.a.createElement("label",null,"Time Stamp"),r.a.createElement("input",{placeholder:"TimeStamp",onChange:this.props.handleChange("timestamp"),defaultValue:e.timestamp}))),r.a.createElement(ie.a.Group,{widths:"equal",class:"inline fields"},r.a.createElement(ie.a.Field,null,r.a.createElement("label",null,"Description"),r.a.createElement("input",{placeholder:"Description",onChange:this.props.handleChange("description"),defaultValue:e.description}))),r.a.createElement(ie.a.Group,{widths:"equal",class:"inline fields"},r.a.createElement(ie.a.Field,null,r.a.createElement("label",null,"Image Link"),r.a.createElement("input",{placeholder:"Image Link",onChange:this.props.handleChange("imagelink"),defaultValue:e.imagelink}))),r.a.createElement(L.a,{size:"small",onClick:this.saveAndContinue},"Save and Continue")))}}]),n}(a.Component);function Pe(){var e=Object(E.a)(["\n  margin-bottom: 50px;\n"]);return Pe=function(){return e},e}function ze(){var e=Object(E.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n"]);return ze=function(){return e},e}j.a.div(ze());var Me=j.a.h1(Pe()),Re=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).saveAndContinue=function(t){t.preventDefault(),e.props.nextStep()},e.back=function(t){t.preventDefault(),e.props.prevStep()},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this;this.props.values;console.log(this.props);var t=this.props.values.tags.map((function(t,n){return r.a.createElement("div",{class:"ui toggle checkbox",style:{height:"50px"}},r.a.createElement("input",{type:"checkbox",name:t,onChange:e.props.handleChange("interests")}),r.a.createElement("label",null,t))}));return r.a.createElement("div",null,r.a.createElement("h1",null),r.a.createElement(Me,{className:"ui centered"},"My event is about ... "),t,r.a.createElement(ie.a,{color:"blue"},r.a.createElement(ie.a.Group,null,r.a.createElement(L.a,{onClick:this.back},"Back"),r.a.createElement(L.a,{onClick:this.saveAndContinue},"Save And Continue "))))}}]),n}(a.Component),Ue=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"ui centered"},"Success! :)"),r.a.createElement(p.b,{to:"/home"},r.a.createElement(L.a,{size:"small",class:"ui button"},"Go check it out")))}}]),n}(a.Component);function Ve(){var e=Object(E.a)(["\n    height: 60rem;\n    width: 100%;\n    padding: 0 10rem;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n"]);return Ve=function(){return e},e}var We=j.a.div(Ve()),qe=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).nextStep=function(){var e=a.state.step;a.setState({step:e+1})},a.prevStep=function(){var e=a.state.step;a.setState({step:e-1})},a.handleChange=function(e){return function(t){if("interests"==e){var n=a.state.interests;n[t.target.name]="",a.setState(Object(re.a)({},e,n))}else a.setState(Object(re.a)({},e,t.target.value))}},a.handleDropdown=function(e){return function(t){a.setState(Object(re.a)({},e,t.target.querySelector("span").innerHTML))}},a.state={step:1,title:"",location:"",timestamp:"",description:"",imagelink:"",interests:{},tags:["free food","tech","professional","academic","art","study break","social event","sports","party","social","online","stupid","resume drop","finance","concert","choir","varsity","useless","club meeting","panel","challenge"],tag_dict:null,final_tags:null,email:a.props.email?a.props.email:null},a.getInterests=a.getInterests.bind(Object(v.a)(a)),a.getTags=a.getTags.bind(Object(v.a)(a)),a}return Object(f.a)(n,[{key:"handleres",value:function(e){}},{key:"sendData",value:function(){var e=this,t={title:this.state.title,location:this.state.location,timestamp:this.state.timestamp,description:this.state.description,link:this.state.imagelink,tags:this.state.final_tags,organizer:this.state.email};fetch("./api/insertEvent",{method:"post",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){return e.handleres(t)}))}},{key:"getInterests",value:function(){var e=this;fetch("./api/getInterestTags",{method:"post",body:JSON.stringify({Dummy:null})}).then((function(e){return e.json()})).then((function(t){e.setState({tag_dict:t}),e.setState({tags:Object.keys(e.state.tag_dict)})}))}},{key:"getTags",value:function(){for(var e=[],t=Object.keys(this.state.interests),n=0;n<t.length;n++)e.push(this.state.tag_dict[t[n]]);this.setState({final_tags:e})}},{key:"componentDidMount",value:function(){this.getInterests()}},{key:"render",value:function(){var e=this.state.step,t=this.state,n={title:t.title,location:t.location,timestamp:t.timestamp,description:t.description,imagelink:t.imagelink,interest:t.interest,tags:t.tags};switch(e){case 1:return r.a.createElement(We,null,r.a.createElement(Je,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChange,handleDropdown:this.handleDropdown,values:n}));case 2:return r.a.createElement(We,null,r.a.createElement(Re,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChange,handleDropdown:this.handleDropdown,values:n}));case 3:return null===this.state.final_tags&&this.getTags(),this.sendData(),r.a.createElement(We,null,r.a.createElement(Ue,null))}}}]),n}(a.Component);var He=function(){var e=Object(a.useContext)(w),t=e.user,n=e.loginWithRedirect,i=e.isLoading,l=Object(a.useState)(!1),s=Object(u.a)(l,2),d=s[0],f=s[1];Object(a.useEffect)((function(){t&&v()}));var v=function(){var e=Object(c.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./api/checkUserInDB/"+t.email,{method:"GET"});case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,f(!!a&&a.userInDB);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.css"}),r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(m.b,{exact:!0,path:"/",render:function(){return t&&!i?d?r.a.createElement(m.a,{to:{pathname:"/home"}}):r.a.createElement(ye,{email:t.email}):r.a.createElement("div",null,r.a.createElement(Ie,{login:n,isLoading:i}))}}),r.a.createElement(m.b,{exact:!0,path:"/home",render:function(){return r.a.createElement(ae,{email:t.email})}}),r.a.createElement(m.b,{exact:!0,path:"/profile",render:function(){return r.a.createElement(De,null)}}),r.a.createElement(m.b,{exact:!0,path:"/createEvent",render:function(){return r.a.createElement(qe,{email:t.email})}}),r.a.createElement(m.b,{exact:!0,path:"/login",render:function(){return t?r.a.createElement(h.a,{textAlign:"center"},r.a.createElement(ye,{email:t.email})):r.a.createElement(m.a,{to:{pathname:"/"}})}}),r.a.createElement(m.b,{exact:!0,path:"/allevents",render:function(){return r.a.createElement(Fe,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(D,null,r.a.createElement(He,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t,n){},62:function(e,t,n){}},[[208,1,2]]]);
//# sourceMappingURL=main.54384b42.chunk.js.map